{"version":3,"sources":["components/SearchBox.js","components/Header.js","actions/userActions.js","actions/types.js","components/Footer.js","components/Rating.js","components/Product.js","components/Loader.js","components/Message.js","components/Paginate.js","actions/productActions.js","screens/HomeScreen.js","components/Stars.js","screens/ProductScreen.js","components/FormWrapper.js","screens/ProductEditScreen.js","screens/CartScreen.js","screens/LoginScreen.js","screens/RegisterScreen.js","screens/ProfileScreen.js","screens/ResetScreen.js","components/CheckoutSteps.js","screens/ShippingScreen.js","screens/PaymentScreen.js","screens/PlaceOrderScreen.js","screens/OrderScreen.js","screens/UserListScreen.js","screens/ProductListScreen.js","screens/OrderListScreen.js","App.js","serviceWorker.js","store.js","reducers/productReducers.js","reducers/userReducer.js","index.js"],"names":["SearchBox","history","useHistory","useState","keyword","setKeyword","Form","inline","onSubmit","e","preventDefault","push","Control","value","onChange","target","placeholder","className","Button","type","variant","Header","dispatch","useDispatch","user","useSelector","state","userInfo","Navbar","bg","expand","collapseOnSelect","Container","to","Brand","Toggle","aria-controls","Collapse","id","Nav","exact","Link","NavDropdown","title","name","Item","onClick","isAdmin","href","Footer","Row","Col","Rating","rating","reviews","color","stars","Array","from","length","map","s","i","c","key","style","display","defaultProps","Product","product","Card","_id","Img","src","image","Body","Title","as","Text","numReviews","price","Loader","Spinner","animation","role","width","height","margin","Message","children","Alert","Paginate","url","page","numOfPages","Pagination","First","Ellipsis","active","Last","productListAction","perpage","a","axios","get","data","payload","products","response","message","cartAdd","qty","getState","cartItems","cart","item","find","count","countInStock","localStorage","setItem","JSON","stringify","HomeScreen","match","productList","loading","error","storedKeyword","top","topProducts","topLoading","topError","pageUrl","params","useEffect","Carousel","pause","Caption","Image","roundedCircle","alt","sm","md","lg","xl","parseInt","Stars","setRating","temp","setTemp","colors","handleEnter","getAttribute","handleLeave","star","onMouseEnter","onMouseLeave","fontSize","cursor","ProductScreen","setQty","setState","show","setShow","comment","setComment","setMessage","handleClose","fetchProduct","res","detectMyReview","myReview","r","sort","b","createReview","config","headers","Authorization","getItem","post","fluid","ListGroup","brand","category","description","data-testid","padding","keys","val","disabled","review","marginBottom","Modal","onHide","closeButton","Group","Label","rows","FormWrapper","ProductEditScreen","setLoading","uploading","setUploading","msg","setMsg","setName","setBrand","setCategory","setImage","setPrice","setDescription","setCountInStock","handleSubmit","put","uploadImage","f","FormData","file","files","append","File","custom","label","CartScreen","location","search","split","totalItems","reduce","acc","cur","totalPrice","toFixed","LoginScreen","email","password","info","setInfo","redirect","handleChange","RegisterScreen","conPassword","ProfileScreen","msg2","setMsg2","loader","setLoader","orders","setOrders","fetchOrders","updateProfileAction","Table","striped","bordered","hover","order","moment","createdAt","format","isPaid","isDelivered","size","ResetScreen","token","console","log","resetPassword","sendEmail","required","CheckoutSteps","step1","step2","step3","step4","ShippingScreen","shippingAddress","address","postalCode","city","country","PaymentScreen","paymentMethod","method","setMethod","cartMethod","Check","PlaceOrderScreen","setError","itemsPrice","Number","taxPrice","shippingPrice","handleClick","orderItems","setOrder","sdkReady","setSdkReady","window","paypal","addPayPalScript","getOrder","clientId","script","document","createElement","async","onload","body","appendChild","onSuccessHandler","paymentResult","deliveredAt","paidAt","amount","onSuccess","UserListScreen","users","setUsers","setNumOfPages","fetchUsers","pages","deleteUser","confirm","delete","filter","makeUserAdmin","ProductListScreen","err","setErr","deleteProduct","createProduct","OrderListScreen","updateOrderToDelivred","App","basename","path","component","OrderScreen","Boolean","hostname","initState","parse","reducer","combineReducers","action","existItem","x","items","removeItem","store","createStore","composeWithDevTools","applyMiddleware","thunk","ReactDOM","render","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch"],"mappings":"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","file":"static/js/main.d98a5d15.chunk.js","sourcesContent":["import React, { useState } from 'react';\r\nimport { Form, Button } from 'react-bootstrap';\r\nimport { useHistory } from 'react-router-dom';\r\n\r\nconst SearchBox = () => {\r\n  const history = useHistory();\r\n  const [keyword, setKeyword] = useState('');\r\n\r\n  const submitHandler = e => {\r\n    e.preventDefault();\r\n    if (keyword) {\r\n      history.push(`/search/${keyword}`);\r\n    } else {\r\n      history.push('/');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Form inline onSubmit={submitHandler}>\r\n      <Form.Control\r\n        value={keyword}\r\n        onChange={e => setKeyword(e.target.value)}\r\n        placeholder=\"Search Products...\"\r\n        className=\"mr-lg-4 mr-sm-2\"\r\n      />\r\n      <Button type=\"submit\" variant=\"outline-success\">\r\n        Search\r\n      </Button>\r\n    </Form>\r\n  );\r\n};\r\n\r\nexport default SearchBox;\r\n","import React from 'react';\r\nimport { Container, Nav, Navbar, NavDropdown } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { logoutAction } from '../actions/userActions';\r\nimport SearchBox from './SearchBox';\r\n\r\nconst Header = () => {\r\n  const dispatch = useDispatch();\r\n  const { user } = useSelector(state => state.userInfo);\r\n  return (\r\n    <header>\r\n      <Navbar bg=\"dark\" variant=\"dark\" expand=\"lg\" collapseOnSelect>\r\n        <Container>\r\n          <LinkContainer to=\"/\">\r\n            <Navbar.Brand>Shoppy</Navbar.Brand>\r\n          </LinkContainer>\r\n          <Navbar.Toggle aria-controls=\"basic-navbar-nav\" />\r\n          <Navbar.Collapse id=\"basic-navbar-nav\">\r\n            <SearchBox />\r\n            <Nav className=\"ml-auto\">\r\n              <LinkContainer to=\"/cart\" exact>\r\n                <Nav.Link>\r\n                  <i className=\"fas fa-shopping-cart\"></i> Cart\r\n                </Nav.Link>\r\n              </LinkContainer>\r\n              {user ? (\r\n                <>\r\n                  <NavDropdown title={user.name}>\r\n                    <LinkContainer to=\"/profile\" exact>\r\n                      <NavDropdown.Item>Profile</NavDropdown.Item>\r\n                    </LinkContainer>\r\n                    <NavDropdown.Item onClick={() => dispatch(logoutAction())}>\r\n                      Logout\r\n                    </NavDropdown.Item>\r\n                  </NavDropdown>\r\n                  {user.isAdmin ? (\r\n                    <NavDropdown title={'admin'}>\r\n                      <LinkContainer to=\"/admin/userlist/1\" exact>\r\n                        <NavDropdown.Item>Users</NavDropdown.Item>\r\n                      </LinkContainer>\r\n                      <LinkContainer to=\"/admin/productlist/1\" exact>\r\n                        <NavDropdown.Item>Products</NavDropdown.Item>\r\n                      </LinkContainer>\r\n                      <LinkContainer to=\"/admin/orderlist/1\" exact>\r\n                        <NavDropdown.Item>Orders</NavDropdown.Item>\r\n                      </LinkContainer>\r\n                    </NavDropdown>\r\n                  ) : (\r\n                    ''\r\n                  )}\r\n                </>\r\n              ) : (\r\n                <LinkContainer to=\"/login\" exact>\r\n                  <Nav.Link href=\"#link\">\r\n                    <i className=\"fas fa-user\"></i> Sign In\r\n                  </Nav.Link>\r\n                </LinkContainer>\r\n              )}\r\n            </Nav>\r\n          </Navbar.Collapse>\r\n        </Container>\r\n      </Navbar>\r\n    </header>\r\n  );\r\n};\r\n\r\nexport default Header;\r\n","import axios from 'axios';\r\nimport {\r\n  USER_REQUEST,\r\n  USER_SUCCESS,\r\n  USER_FAIL,\r\n  USER_PROFILE,\r\n  USER_LOGOUT,\r\n} from '../actions/types';\r\n\r\nexport const loginAction = (email, password) => async dispatch => {\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  };\r\n  dispatch({ type: USER_REQUEST });\r\n  try {\r\n    const { data } = await axios.post(\r\n      '/api/users/login',\r\n      { email, password },\r\n      config\r\n    );\r\n    dispatch({ type: USER_SUCCESS, payload: data });\r\n  } catch (e) {\r\n    dispatch({\r\n      type: USER_FAIL,\r\n      payload:\r\n        e.response && e.response.data.message\r\n          ? e.response.data.message\r\n          : e.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const registerAction = (email, name, password) => async dispatch => {\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  };\r\n  dispatch({ type: USER_REQUEST });\r\n  try {\r\n    const { data } = await axios.post(\r\n      '/api/users/register',\r\n      { email, password, name },\r\n      config\r\n    );\r\n    dispatch({ type: USER_SUCCESS, payload: data });\r\n  } catch (e) {\r\n    dispatch({\r\n      type: USER_FAIL,\r\n      payload:\r\n        e.response && e.response.data.message\r\n          ? e.response.data.message\r\n          : e.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const profileAction = token => async dispatch => {\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: token,\r\n    },\r\n  };\r\n  dispatch({ type: USER_REQUEST });\r\n  try {\r\n    const { data } = await axios.get('/api/users/profile', config);\r\n    dispatch({ type: USER_PROFILE, payload: data });\r\n  } catch (e) {\r\n    dispatch({\r\n      type: USER_FAIL,\r\n      payload:\r\n        e.response && e.response.data.message\r\n          ? e.response.data.message\r\n          : e.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const updateProfileAction = user => async dispatch => {\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: localStorage.getItem('token'),\r\n    },\r\n  };\r\n  dispatch({ type: USER_REQUEST });\r\n  try {\r\n    const { data } = await axios.put('/api/users/profile', { ...user }, config);\r\n    dispatch({ type: USER_PROFILE, payload: data });\r\n  } catch (e) {\r\n    dispatch({\r\n      type: USER_FAIL,\r\n      payload:\r\n        e.response && e.response.data.message\r\n          ? e.response.data.message\r\n          : e.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const logoutAction = () => dispatch => {\r\n  dispatch({ type: USER_LOGOUT });\r\n};\r\n","export const PRODUCT_LIST_REQUEST = 'PRODUCT_LIST_REQUEST';\r\nexport const PRODUCT_LIST_SUCCESS = 'PRODUCT_LIST_SUCCESS';\r\nexport const PRODUCT_LIST_FAIL = 'PRODUCT_LIST_FAIL';\r\nexport const PRODUCT_LIST_REMOVE = 'PRODUCT_LIST_REMOVE';\r\n\r\nexport const PRODUCT_TOP_REQUEST = 'PRODUCT_TOP_REQUEST';\r\nexport const PRODUCT_TOP_SUCCESS = 'PRODUCT_TOP_SUCCESS';\r\nexport const PRODUCT_TOP_FAIL = 'PRODUCT_TOP_FAIL';\r\n\r\nexport const CART_ADD_ITEM = 'CART_ADD_ITEM';\r\nexport const CART_REMOVE_ITEM = 'CART_REMOVE_ITEM';\r\nexport const CART_REQUEST = 'CART_REQUEST';\r\nexport const CART_FAIL = 'CART_FAIL';\r\nexport const CART_SHIPPING_ADDRESS = 'CART_SHIPPING_ADDRESS';\r\nexport const CART_PAYMENT_METHOD = 'CART_PAYMENT_METHOD';\r\nexport const CART_EMPTY = 'CART_EMPTY';\r\n\r\nexport const USER_REQUEST = 'USER_REQUEST';\r\nexport const USER_SUCCESS = 'USER_SUCCESS';\r\nexport const USER_FAIL = 'USER_FAIL';\r\nexport const USER_LOGOUT = 'USER_LOGOUT';\r\nexport const USER_PROFILE = 'USER_PROFILE';\r\n","import React from 'react';\r\nimport { Container, Row, Col } from 'react-bootstrap';\r\n\r\nconst Footer = () => {\r\n  return (\r\n    <footer>\r\n      <Container className=\"text-center\">\r\n        <Row>\r\n          <Col>\r\n            <p>Shoppy &copy; 2020</p>\r\n          </Col>\r\n        </Row>\r\n      </Container>\r\n    </footer>\r\n  );\r\n};\r\n\r\nexport default Footer;\r\n","import React from 'react';\r\nimport propTypes from 'prop-types';\r\n\r\nconst Rating = ({ rating, reviews, color }) => {\r\n  const stars = Array.from({ length: 5 }).map((s, i) => {\r\n    let c =\r\n      i + 1 <= rating + 0.25\r\n        ? 'fas fa-star'\r\n        : i + 1 <= rating + 0.75\r\n        ? 'fas fa-star-half-alt'\r\n        : 'far fa-star';\r\n    return (\r\n      <span key={i}>\r\n        <i className={c} style={{ color }}></i>\r\n      </span>\r\n    );\r\n  });\r\n\r\n  return (\r\n    <div className=\"my-2\" style={{ display: 'inline-block' }}>\r\n      {stars} {reviews}\r\n    </div>\r\n  );\r\n};\r\n\r\nRating.defaultProps = {\r\n  color: '#f8b620',\r\n};\r\n\r\nRating.propTypes = {\r\n  rating: propTypes.number.isRequired,\r\n  color: propTypes.string.isRequired,\r\n};\r\n\r\nexport default Rating;\r\n// half<i class=\"fas fa-star-half-alt\"></i>\r\n//full <i class=\"fas fa-star\"></i>\r\n// empty <i class=\"far fa-star\"></i>\r\n","import React from 'react';\r\nimport Rating from './Rating';\r\nimport { Card } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst Product = ({ product }) => {\r\n  return (\r\n    <Card className=\"p-3 my-3 rounded\">\r\n      <Link to={`/product/${product._id}`}>\r\n        <Card.Img src={product.image} variant=\"top\" />\r\n      </Link>\r\n      <Card.Body>\r\n        <Link to={`/product/${product._id}`}>\r\n          <Card.Title as=\"div\">{product.name}</Card.Title>\r\n        </Link>\r\n        <Card.Text as=\"div\">\r\n          <Rating rating={product.rating} reviews={product.numReviews} />\r\n        </Card.Text>\r\n        <Card.Text as=\"h3\">${product.price}</Card.Text>\r\n      </Card.Body>\r\n    </Card>\r\n  );\r\n};\r\n\r\nexport default Product;\r\n","import React from 'react';\r\nimport { Spinner } from 'react-bootstrap';\r\n\r\nconst Loader = () => {\r\n  return (\r\n    <Spinner\r\n      animation=\"border\"\r\n      variant=\"secondary\"\r\n      role=\"status\"\r\n      style={{\r\n        width: '150px',\r\n        height: '150px',\r\n        margin: '150px auto',\r\n        display: 'block',\r\n      }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default Loader;\r\n","import React from 'react';\r\nimport { Alert } from 'react-bootstrap';\r\n\r\nconst Message = ({ variant, children }) => {\r\n  return <Alert variant={variant}>{children}</Alert>;\r\n};\r\n\r\nexport default Message;\r\n","import React from 'react';\r\nimport { Pagination } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nconst Paginate = ({ url, page, numOfPages }) => {\r\n  return (\r\n    <Pagination className=\"d-flex justify-content-center\">\r\n      {page > 3 && (\r\n        <>\r\n          <LinkContainer to={`${url}/1`}>\r\n            <Pagination.First />\r\n          </LinkContainer>\r\n          <Pagination.Ellipsis />\r\n        </>\r\n      )}\r\n      {page - 2 > 0 && (\r\n        <LinkContainer to={`${url}/${page - 2}`}>\r\n          <Pagination.Item>{page - 2}</Pagination.Item>\r\n        </LinkContainer>\r\n      )}\r\n      {page - 1 > 0 && (\r\n        <LinkContainer to={`${url}/${page - 1}`}>\r\n          <Pagination.Item>{page - 1}</Pagination.Item>\r\n        </LinkContainer>\r\n      )}\r\n      <Pagination.Item active>{page}</Pagination.Item>\r\n      {numOfPages - page > 0 && (\r\n        <LinkContainer to={`${url}/${page + 1}`}>\r\n          <Pagination.Item>{page + 1}</Pagination.Item>\r\n        </LinkContainer>\r\n      )}\r\n      {numOfPages - page > 1 && (\r\n        <LinkContainer to={`${url}/${page + 2}`}>\r\n          <Pagination.Item>{page + 2}</Pagination.Item>\r\n        </LinkContainer>\r\n      )}\r\n      {numOfPages - page > 2 && (\r\n        <>\r\n          <Pagination.Ellipsis />\r\n          <LinkContainer to={`${url}/${numOfPages}`}>\r\n            <Pagination.Last />\r\n          </LinkContainer>\r\n        </>\r\n      )}\r\n    </Pagination>\r\n  );\r\n};\r\n\r\nexport default Paginate;\r\n","import {\r\n  PRODUCT_LIST_REQUEST,\r\n  PRODUCT_LIST_SUCCESS,\r\n  PRODUCT_LIST_FAIL,\r\n  PRODUCT_TOP_REQUEST,\r\n  PRODUCT_TOP_SUCCESS,\r\n  PRODUCT_TOP_FAIL,\r\n  CART_ADD_ITEM,\r\n  CART_REMOVE_ITEM,\r\n  CART_REQUEST,\r\n  CART_FAIL,\r\n  CART_SHIPPING_ADDRESS,\r\n  CART_PAYMENT_METHOD,\r\n} from './types';\r\nimport axios from 'axios';\r\n\r\nexport const productListAction = (page, perpage, keyword) => async dispatch => {\r\n  dispatch({ type: PRODUCT_LIST_REQUEST });\r\n  try {\r\n    const { data } = await axios.get(\r\n      `/api/products?page=${page}&perpage=${perpage}&keyword=${keyword}`\r\n    );\r\n    dispatch({\r\n      type: PRODUCT_LIST_SUCCESS,\r\n      payload: data.products,\r\n      numOfPages: data.numOfPages,\r\n      page,\r\n      keyword,\r\n    });\r\n  } catch (e) {\r\n    dispatch({\r\n      type: PRODUCT_LIST_FAIL,\r\n      payload:\r\n        e.response && e.response.data.message\r\n          ? e.response.data.message\r\n          : e.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const productTopAction = () => async dispatch => {\r\n  dispatch({ type: PRODUCT_TOP_REQUEST });\r\n  try {\r\n    const { data } = await axios.get(`/api/products/top`);\r\n    dispatch({\r\n      type: PRODUCT_TOP_SUCCESS,\r\n      payload: data,\r\n    });\r\n  } catch (e) {\r\n    dispatch({\r\n      type: PRODUCT_TOP_FAIL,\r\n      payload:\r\n        e.response && e.response.data.message\r\n          ? e.response.data.message\r\n          : e.message,\r\n    });\r\n  }\r\n};\r\n\r\nexport const cartAdd = (id, qty) => async (dispatch, getState) => {\r\n  const cartItems = getState().cart.cartItems;\r\n  const item = cartItems.find(i => i.id === id);\r\n  if (item) {\r\n    dispatch({\r\n      type: CART_ADD_ITEM,\r\n      payload: {\r\n        id: item.id,\r\n        image: item.image,\r\n        name: item.name,\r\n        price: item.price,\r\n        count: item.count,\r\n        qty: qty,\r\n      },\r\n    });\r\n  } else {\r\n    dispatch({ type: CART_REQUEST });\r\n    try {\r\n      const { data } = await axios.get(`/api/products/${id}`);\r\n      dispatch({\r\n        type: CART_ADD_ITEM,\r\n        payload: {\r\n          id: data._id,\r\n          image: data.image,\r\n          name: data.name,\r\n          price: data.price,\r\n          count: data.countInStock,\r\n          qty: qty,\r\n        },\r\n      });\r\n      localStorage.setItem(\r\n        'cartItems',\r\n        JSON.stringify(getState().cart.cartItems)\r\n      );\r\n    } catch (e) {\r\n      dispatch({\r\n        type: CART_FAIL,\r\n        payload:\r\n          e.response && e.response.data.message\r\n            ? e.response.data.message\r\n            : e.message,\r\n      });\r\n    }\r\n  }\r\n};\r\n\r\nexport const cartRemove = id => async (dispatch, getState) => {\r\n  dispatch({\r\n    type: CART_REMOVE_ITEM,\r\n    payload: id,\r\n  });\r\n  localStorage.setItem('cartItems', JSON.stringify(getState().cart.cartItems));\r\n};\r\n\r\nexport const cartAddress = data => async dispatch => {\r\n  dispatch({\r\n    type: CART_SHIPPING_ADDRESS,\r\n    payload: data,\r\n  });\r\n  localStorage.setItem('shippingAddress', JSON.stringify(data));\r\n};\r\n\r\nexport const cartMethod = method => async dispatch => {\r\n  dispatch({\r\n    type: CART_PAYMENT_METHOD,\r\n    payload: method,\r\n  });\r\n  localStorage.setItem('paymentMethod', method);\r\n};\r\n","import React, { useEffect } from 'react';\r\nimport Product from '../components/Product';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport Paginate from '../components/Paginate';\r\nimport { Row, Col, Carousel, Image } from 'react-bootstrap';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { productListAction, productTopAction } from '../actions/productActions';\r\n\r\nconst HomeScreen = ({ match }) => {\r\n  const dispatch = useDispatch();\r\n  const {\r\n    products,\r\n    loading,\r\n    error,\r\n    numOfPages,\r\n    page,\r\n    keyword: storedKeyword,\r\n  } = useSelector(state => state.productList);\r\n\r\n  const {\r\n    products: topProducts,\r\n    loading: topLoading,\r\n    error: topError,\r\n  } = useSelector(state => state.top);\r\n\r\n  const pageUrl = match.params.page || '1';\r\n  const keyword = match.params.keyword || '';\r\n  //Fetch products after loading compoanent\r\n  useEffect(() => {\r\n    if (pageUrl !== page || keyword !== storedKeyword) {\r\n      dispatch(productListAction(pageUrl, 8, keyword));\r\n    }\r\n    if (topProducts.length === 0) {\r\n      dispatch(productTopAction());\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [match.params.page, keyword]);\r\n  return (\r\n    <>\r\n      {keyword && (\r\n        <Link to=\"/\" className=\"btn btn-light\">\r\n          GO BACK\r\n        </Link>\r\n      )}\r\n      {!keyword && <h1>Top Products</h1>}\r\n      {topLoading ? (\r\n        <Loader />\r\n      ) : topError ? (\r\n        <Message variant=\"danger\">{error}</Message>\r\n      ) : !keyword ? (\r\n        <Carousel className=\"my-3\">\r\n          {topProducts.map(product => (\r\n            <Carousel.Item className=\"bg-dark\" pause=\"hover\" key={product._id}>\r\n              <Link to={`/product/${product._id}`}>\r\n                <Carousel.Caption className=\"carousel-caption\">\r\n                  <h4>\r\n                    {product.name} (${product.price})\r\n                  </h4>\r\n                </Carousel.Caption>\r\n\r\n                <Image roundedCircle src={product.image} alt={product.name} />\r\n              </Link>\r\n            </Carousel.Item>\r\n          ))}\r\n        </Carousel>\r\n      ) : (\r\n        ''\r\n      )}\r\n      <h1>Latest Products</h1>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        <Message variant=\"danger\">{error}</Message>\r\n      ) : (\r\n        <>\r\n          <Row>\r\n            {products.map(product => (\r\n              <Col sm={12} md={6} lg={4} xl={3} key={product._id}>\r\n                <Product key={product._id} product={product} />\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n          <Paginate url=\"\" page={parseInt(pageUrl)} numOfPages={numOfPages} />\r\n        </>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default HomeScreen;\r\n","import React, { useState } from 'react';\r\n\r\nconst Stars = ({ rating, setRating }) => {\r\n  const [temp, setTemp] = useState(rating);\r\n\r\n  const opinions = ['Very bad', 'Bad', 'Moderate', 'Good', 'Excellent'];\r\n  const colors = ['#ec4646', '#eb596e', '#f3722c', '#ffb703', '#ffe227'];\r\n  function handleEnter({ target }) {\r\n    setTemp(+target.getAttribute('value'));\r\n  }\r\n\r\n  function handleLeave() {\r\n    setTemp(rating);\r\n  }\r\n\r\n  const stars = Array.from({ length: 5 }).map((star, i) => (\r\n    <i\r\n      className={`${i + 1 <= temp ? 'fas' : 'far'} fa-star`}\r\n      key={i}\r\n      value={i + 1}\r\n      onClick={() => setRating(i + 1)}\r\n      onMouseEnter={handleEnter}\r\n      onMouseLeave={handleLeave}\r\n      style={{ fontSize: '40px', color: colors[temp - 1], cursor: 'pointer' }}\r\n    ></i>\r\n  ));\r\n\r\n  return (\r\n    <div className=\"text-center\">\r\n      {stars}\r\n      <p className=\"my-3\">{opinions[temp - 1]}</p>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Stars;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport {\r\n  Row,\r\n  Col,\r\n  Button,\r\n  ListGroup,\r\n  Image,\r\n  Card,\r\n  Form,\r\n  Modal,\r\n} from 'react-bootstrap';\r\nimport Rating from '../components/Rating';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport Stars from '../components/Stars';\r\nimport axios from 'axios';\r\n\r\nconst ProductScreen = ({ match, history }) => {\r\n  const { page } = useSelector(state => state.productList);\r\n  const { user } = useSelector(state => state.userInfo);\r\n  const [qty, setQty] = useState(1);\r\n  const [state, setState] = useState({\r\n    loading: true,\r\n    product: { reviews: [] },\r\n    error: '',\r\n  });\r\n  const [show, setShow] = useState(false);\r\n  const [rating, setRating] = useState(0);\r\n  const [comment, setComment] = useState('');\r\n  const [message, setMessage] = useState('');\r\n  const handleClose = () => setShow(false);\r\n  const handleShow = () => setShow(true);\r\n\r\n  const { product, loading, error } = state;\r\n  const pageUrl = page || 1;\r\n  //Get product data function\r\n  const fetchProduct = async () => {\r\n    try {\r\n      const res = await axios.get(`/api/products/${match.params.id}`);\r\n      setState({\r\n        loading: false,\r\n        product: res.data,\r\n      });\r\n    } catch (e) {\r\n      setState({\r\n        loading: false,\r\n        error:\r\n          e.response && e.response.data.message\r\n            ? e.response.data.message\r\n            : e.message,\r\n      });\r\n    }\r\n  };\r\n\r\n  //Fetch product data after loading compoanent\r\n  useEffect(() => {\r\n    if (!product.name) {\r\n      fetchProduct();\r\n    } else {\r\n      detectMyReview();\r\n    }\r\n\r\n    // eslint-disable-next-line\r\n  }, [product]);\r\n\r\n  const handleSubmit = () => {\r\n    history.push(`/cart/${product._id}?qty=${qty}`);\r\n  };\r\n\r\n  const detectMyReview = () => {\r\n    if (user) {\r\n      const myReview = product.reviews.find(r => r.user === user._id);\r\n      if (myReview) {\r\n        product.reviews.sort((a, b) => (a.user === user._id ? -1 : 0));\r\n        setRating(myReview.rating);\r\n        setComment(myReview.comment);\r\n      }\r\n    }\r\n  };\r\n\r\n  const createReview = async () => {\r\n    handleClose();\r\n    if (!user) {\r\n      history.push(`/login?redirect=product/${product._id}`);\r\n    } else if (!comment || !rating) {\r\n      setMessage('You need to make a rating and write comment');\r\n    } else {\r\n      const config = {\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: localStorage.getItem('token'),\r\n        },\r\n      };\r\n      try {\r\n        setState({ ...state, loading: true });\r\n        const { data } = await axios.post(\r\n          `/api/products/${match.params.id}/review`,\r\n          { rating, comment },\r\n          config\r\n        );\r\n        setState({\r\n          loading: false,\r\n          product: data,\r\n        });\r\n        setMessage('');\r\n      } catch (e) {\r\n        setState({\r\n          loading: false,\r\n          error:\r\n            e.response && e.response.data.message\r\n              ? e.response.data.message\r\n              : e.message,\r\n        });\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Link to={`/${pageUrl}`} className=\"btn btn-light my-2\">\r\n        Go Back\r\n      </Link>\r\n      {message && <Message variant=\"danger\">{message}</Message>}\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        <Message variant=\"danger\">{error}</Message>\r\n      ) : (\r\n        <>\r\n          <Row>\r\n            <Col md={6}>\r\n              <Image src={product.image} alt={product.name} fluid />\r\n            </Col>\r\n            <Col md={3}>\r\n              <ListGroup variant=\"flush\">\r\n                <ListGroup.Item>\r\n                  <h3>{product.name}</h3>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Rating\r\n                    rating={product.rating}\r\n                    reviews={product.numReviews}\r\n                  />{' '}\r\n                  reviews\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>Brand : {product.brand}</ListGroup.Item>\r\n                <ListGroup.Item>Category : {product.category}</ListGroup.Item>\r\n                <ListGroup.Item>Price : ${product.price}</ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  Description : {product.description}\r\n                </ListGroup.Item>\r\n              </ListGroup>\r\n            </Col>\r\n            <Col md={3}>\r\n              <Card>\r\n                <ListGroup variant=\"flush\">\r\n                  <ListGroup.Item>\r\n                    <Row>\r\n                      <Col>Price:</Col>\r\n                      <Col data-testid=\"price\">${product.price}</Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                  <ListGroup.Item>\r\n                    <Row>\r\n                      <Col>Status:</Col>\r\n                      <Col>\r\n                        {product.countInStock > 0 ? 'In Stock' : 'Out of Stock'}\r\n                      </Col>\r\n                    </Row>\r\n                  </ListGroup.Item>\r\n                  {product.countInStock > 0 && (\r\n                    <ListGroup.Item>\r\n                      <Row>\r\n                        <Col>Qty:</Col>\r\n                        <Col>\r\n                          <Form.Control\r\n                            as=\"select\"\r\n                            value={qty}\r\n                            style={{ padding: '5px' }}\r\n                            onChange={({ target }) => setQty(target.value)}\r\n                          >\r\n                            {[...Array(product.countInStock).keys()].map(\r\n                              val => (\r\n                                <option key={val} value={val + 1}>\r\n                                  {val + 1}\r\n                                </option>\r\n                              )\r\n                            )}\r\n                          </Form.Control>\r\n                        </Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n                  )}\r\n                  <ListGroup.Item>\r\n                    <Button\r\n                      className=\"btn btn-block\"\r\n                      disabled={product.countInStock === 0}\r\n                      onClick={handleSubmit}\r\n                    >\r\n                      ADD TO CART\r\n                    </Button>\r\n                  </ListGroup.Item>\r\n                </ListGroup>\r\n              </Card>\r\n            </Col>\r\n          </Row>\r\n          <Row className=\"my-5\">\r\n            <Col md={8}>\r\n              <Row className=\"text-right\">\r\n                <Col>\r\n                  <Button variant=\"success\" onClick={handleShow}>\r\n                    Create Review\r\n                  </Button>\r\n                </Col>\r\n              </Row>\r\n              {product.reviews.map(review => (\r\n                <div className=\"my-2\" key={review._id}>\r\n                  <p style={{ marginBottom: '-5px' }}>{review.name}</p>\r\n                  <Rating rating={review.rating} reviews=\"\" />\r\n                  <p>{review.comment}</p>\r\n                  <hr />\r\n                </div>\r\n              ))}\r\n            </Col>\r\n          </Row>\r\n        </>\r\n      )}\r\n      <Modal show={show} onHide={handleClose}>\r\n        <Modal.Header closeButton>\r\n          <Modal.Title>Create Review</Modal.Title>\r\n        </Modal.Header>\r\n        <Modal.Body>\r\n          <Stars rating={rating} setRating={setRating} />\r\n          <Form.Group>\r\n            <Form.Label>Review : </Form.Label>\r\n            <Form.Control\r\n              as=\"textarea\"\r\n              rows={3}\r\n              value={comment}\r\n              onChange={e => setComment(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n        </Modal.Body>\r\n        <Modal.Footer>\r\n          <Button variant=\"secondary\" onClick={handleClose}>\r\n            Close\r\n          </Button>\r\n          <Button variant=\"primary\" onClick={createReview}>\r\n            Create Review\r\n          </Button>\r\n        </Modal.Footer>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductScreen;\r\n","import React from 'react';\r\nimport { Row, Col } from 'react-bootstrap';\r\n\r\nconst FormWrapper = ({ children }) => {\r\n  return (\r\n    <Row className=\"justify-content-center\">\r\n      <Col lg={6}>{children}</Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default FormWrapper;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport { useSelector } from 'react-redux';\r\nimport { Button, Form } from 'react-bootstrap';\r\nimport FormWrapper from '../components/FormWrapper';\r\nimport axios from 'axios';\r\n\r\nconst ProductEditScreen = ({ history, match }) => {\r\n  const { user } = useSelector(state => state.userInfo);\r\n  const { page } = useSelector(state => state.productList);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [msg, setMsg] = useState('');\r\n\r\n  const [name, setName] = useState('');\r\n  const [brand, setBrand] = useState('');\r\n  const [category, setCategory] = useState('');\r\n  const [image, setImage] = useState('');\r\n  const [price, setPrice] = useState(0);\r\n  const [description, setDescription] = useState('');\r\n  const [countInStock, setCountInStock] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (!user && !user.isAdmin) {\r\n      history.push('/');\r\n    } else {\r\n      fetchProduct(match.params.id);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [user, history]);\r\n\r\n  const fetchProduct = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const { data } = await axios.get(`/api/products/${match.params.id}`);\r\n      setName(data.name);\r\n      setBrand(data.brand);\r\n      setCategory(data.category);\r\n      setDescription(data.description);\r\n      setPrice(data.price);\r\n      setCountInStock(data.countInStock);\r\n      setImage(data.image);\r\n    } catch (e) {\r\n      setMsg(\r\n        e.response && e.response.data.message\r\n          ? e.response.data.message\r\n          : e.message\r\n      );\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleSubmit = async e => {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n        Authorization: localStorage.getItem('token'),\r\n      },\r\n    };\r\n    e.preventDefault();\r\n    setLoading(true);\r\n    try {\r\n      await axios.put(\r\n        `/api/products/${match.params.id}`,\r\n        { name, category, brand, description, image, price, countInStock },\r\n        config\r\n      );\r\n      history.push(`/admin/productlist/${page}`);\r\n    } catch (e) {\r\n      setMsg(\r\n        e.response && e.response.data.message\r\n          ? e.response.data.message\r\n          : e.message\r\n      );\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const uploadImage = async e => {\r\n    const config = {\r\n      headers: {\r\n        'Content-Type': 'multipart/form-data',\r\n      },\r\n    };\r\n    setUploading(true);\r\n    const f = new FormData();\r\n    const file = e.target.files[0];\r\n    f.append('image', file);\r\n    try {\r\n      const { data } = await axios.post(`/api/upload`, f, config);\r\n      setImage(data);\r\n    } catch (e) {\r\n      setMsg(\r\n        e.response && e.response.data.message\r\n          ? e.response.data.message\r\n          : e.message\r\n      );\r\n    }\r\n    setUploading(false);\r\n  };\r\n  return (\r\n    <FormWrapper>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : msg ? (\r\n        <Message variant=\"warning\">{msg}</Message>\r\n      ) : (\r\n        ''\r\n      )}\r\n      <>\r\n        <h1 className=\"my-3\">EDIT {name}</h1>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group>\r\n            <Form.Label>Name</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"name\"\r\n              value={name}\r\n              onChange={e => setName(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Brand</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Brand\"\r\n              value={brand}\r\n              onChange={e => setBrand(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Category</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Category\"\r\n              value={category}\r\n              onChange={e => setCategory(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Price</Form.Label>\r\n            <Form.Control\r\n              type=\"number\"\r\n              placeholder=\"Price\"\r\n              name=\"price\"\r\n              value={price}\r\n              onChange={e => setPrice(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Image</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Image\"\r\n              value={image}\r\n              onChange={e => setImage(e.target.value)}\r\n            />\r\n            <Form.File\r\n              name=\"image\"\r\n              custom\r\n              label=\"Choose file\"\r\n              onChange={uploadImage}\r\n            />\r\n            {uploading && <Loader />}\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>CountInStock</Form.Label>\r\n            <Form.Control\r\n              type=\"number\"\r\n              placeholder=\"CountInStock\"\r\n              value={countInStock}\r\n              onChange={e => setCountInStock(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Description</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Description\"\r\n              value={description}\r\n              onChange={e => setDescription(e.target.value)}\r\n            />\r\n          </Form.Group>\r\n          <Button type=\"submit\" variant=\"primary\" className=\"py-2 px-4 my-2\">\r\n            Update Product\r\n          </Button>\r\n        </Form>\r\n      </>\r\n    </FormWrapper>\r\n  );\r\n};\r\n\r\nexport default ProductEditScreen;\r\n","import React, { useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport {\r\n  Row,\r\n  Col,\r\n  Image,\r\n  Form,\r\n  Card,\r\n  Button,\r\n  ListGroup,\r\n} from 'react-bootstrap';\r\nimport { cartAdd, cartRemove } from '../actions/productActions';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\n\r\nconst CartScreen = ({ history, match, location }) => {\r\n  //Get Amount from the query\r\n  const qty = parseInt(location.search.split('=')[1]);\r\n\r\n  //Get Cart items from redux\r\n  const { cartItems, loading, error } = useSelector(state => state.cart);\r\n\r\n  //Calcaulta total number of items and total price\r\n  const totalItems = cartItems.length\r\n    ? cartItems.reduce((acc, cur) => acc + cur.qty, 0)\r\n    : 0;\r\n\r\n  const totalPrice = cartItems.length\r\n    ? cartItems.reduce((acc, cur) => acc + cur.qty * cur.price, 0)\r\n    : 0;\r\n\r\n  //Dispatch adding item\r\n  const dispatch = useDispatch();\r\n  useEffect(() => {\r\n    if (match.params.id) dispatch(cartAdd(match.params.id, qty));\r\n  }, [dispatch, match.params.id, qty]);\r\n\r\n  const handleClick = () => {\r\n    history.push('/login?redirect=shipping');\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h1 className=\"my-3\">SHOPPING CART</h1>\r\n      <Row>\r\n        <Col md={8}>\r\n          {loading ? (\r\n            <Loader />\r\n          ) : error ? (\r\n            <Message variant=\"danger\">{error}</Message>\r\n          ) : !cartItems.length ? (\r\n            <Message variant=\"info\">\r\n              Your cart is empty! <Link to=\"/\">Go back</Link>\r\n            </Message>\r\n          ) : (\r\n            <ListGroup variant=\"flush\">\r\n              {cartItems.map(item => (\r\n                <ListGroup.Item key={item.id}>\r\n                  <Row className=\"my-2\">\r\n                    <Col md={2}>\r\n                      <Image src={item.image} alt={item.name} fluid />\r\n                    </Col>\r\n                    <Col md={3}>\r\n                      <Link to={`/product/${item.id}`}>{item.name}</Link>\r\n                    </Col>\r\n                    <Col md={2}>${item.price}</Col>\r\n                    <Col md={2}>\r\n                      <Form.Control\r\n                        as=\"select\"\r\n                        onChange={({ target }) => {\r\n                          dispatch(cartAdd(item.id, parseInt(target.value)));\r\n                        }}\r\n                        value={item.qty}\r\n                        style={{ padding: '5px' }}\r\n                      >\r\n                        {[...Array(item.count).keys()].map(val => (\r\n                          <option value={val + 1} key={val + 1}>\r\n                            {val + 1}\r\n                          </option>\r\n                        ))}\r\n                      </Form.Control>\r\n                    </Col>\r\n                    <Col md={2}>\r\n                      <Button\r\n                        className=\"btn btn-light\"\r\n                        onClick={() => dispatch(cartRemove(item.id))}\r\n                      >\r\n                        <i className=\"fas fa-trash\"></i>\r\n                      </Button>\r\n                    </Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n              ))}\r\n            </ListGroup>\r\n          )}\r\n        </Col>\r\n        <Col md={4}>\r\n          <Card>\r\n            <ListGroup variant=\"flush\">\r\n              <ListGroup.Item>\r\n                <h3>Subtotal ({totalItems}) items</h3>\r\n                <p data-testid=\"cartPrice\">${totalPrice.toFixed(2)}</p>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Button\r\n                  className=\"btn btn-block\"\r\n                  disabled={!totalItems}\r\n                  onClick={handleClick}\r\n                >\r\n                  Proceed to checkout\r\n                </Button>\r\n              </ListGroup.Item>\r\n            </ListGroup>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default CartScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Button, Form } from 'react-bootstrap';\r\nimport { loginAction } from '../actions/userActions';\r\nimport FormWrapper from '../components/FormWrapper';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst LoginScreen = ({ history, location }) => {\r\n  const dispatch = useDispatch();\r\n  const { user, loading, error } = useSelector(state => state.userInfo);\r\n\r\n  const [info, setInfo] = useState({\r\n    email: '',\r\n    password: '',\r\n  });\r\n\r\n  const redirect = location.search ? location.search.split('=')[1] : '';\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      history.push(redirect);\r\n    }\r\n  }, [user, history, redirect]);\r\n\r\n  const handleChange = ({ target }) => {\r\n    setInfo({\r\n      ...info,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    dispatch(loginAction(info.email, info.password));\r\n  };\r\n  return (\r\n    <FormWrapper>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        <Message variant=\"warning\">{error}</Message>\r\n      ) : (\r\n        ''\r\n      )}\r\n      <>\r\n        <h1 className=\"my-3\">SIGN IN</h1>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group>\r\n            <Form.Label>Email Address</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Enter email\"\r\n              name=\"email\"\r\n              value={info.email}\r\n              onChange={handleChange}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Password:</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              placeholder=\"Enter password\"\r\n              name=\"password\"\r\n              value={info.password}\r\n              onChange={handleChange}\r\n            />\r\n          </Form.Group>\r\n          <Button type=\"submit\" variant=\"primary\" className=\"py-2 px-4 my-2\">\r\n            SIGN IN\r\n          </Button>\r\n        </Form>\r\n        <p className=\"my-2\">\r\n          New customer ? &nbsp;\r\n          <Link to={redirect ? `/register?redirect=${redirect}` : '/register'}>\r\n            Register\r\n          </Link>\r\n        </p>\r\n        <p className=\"my-3\">\r\n          Forget Your password ? &nbsp;\r\n          <Link to=\"/reset\">Reset My Password</Link>\r\n        </p>\r\n      </>\r\n    </FormWrapper>\r\n  );\r\n};\r\n\r\nexport default LoginScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Button, Form } from 'react-bootstrap';\r\nimport { registerAction } from '../actions/userActions';\r\nimport FormWrapper from '../components/FormWrapper';\r\nimport { Link } from 'react-router-dom';\r\n\r\nconst RegisterScreen = ({ history, location }) => {\r\n  const dispatch = useDispatch();\r\n  const { user, loading, error } = useSelector(state => state.userInfo);\r\n\r\n  const [info, setInfo] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    conPassword: '',\r\n  });\r\n  const [msg, setMsg] = useState('');\r\n\r\n  const redirect = location.search ? location.search.split('=')[1] : '';\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      history.push(redirect);\r\n    }\r\n  }, [user, history, redirect]);\r\n\r\n  const handleChange = ({ target }) => {\r\n    setInfo({\r\n      ...info,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (info.password !== info.conPassword) {\r\n      setMsg(\"Password doesn't match\");\r\n    } else {\r\n      dispatch(registerAction(info.email, info.name, info.password));\r\n    }\r\n  };\r\n  return (\r\n    <FormWrapper>\r\n      {loading ? (\r\n        <Loader />\r\n      ) : error ? (\r\n        <Message variant=\"warning\">{error}</Message>\r\n      ) : msg ? (\r\n        <Message variant=\"warning\">{msg}</Message>\r\n      ) : (\r\n        ''\r\n      )}\r\n      <>\r\n        <h1 className=\"my-3\">SIGN IN</h1>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group>\r\n            <Form.Label>Name</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Enter your name\"\r\n              name=\"name\"\r\n              value={info.name}\r\n              onChange={handleChange}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Email Address</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Enter email\"\r\n              name=\"email\"\r\n              value={info.email}\r\n              onChange={handleChange}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Password:</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              placeholder=\"Enter password\"\r\n              name=\"password\"\r\n              value={info.password}\r\n              onChange={handleChange}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Confirm Password:</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              placeholder=\"Reenter password\"\r\n              name=\"conPassword\"\r\n              value={info.conPassword}\r\n              onChange={handleChange}\r\n            />\r\n          </Form.Group>\r\n          <Button type=\"submit\" variant=\"primary\" className=\"py-2 px-4 my-2\">\r\n            SIGN UP\r\n          </Button>\r\n        </Form>\r\n        <p className=\"my-2\">\r\n          Already have an account ?\r\n          <Link to={redirect ? `/login?redirect=${redirect}` : '/login'}>\r\n            Login\r\n          </Link>\r\n        </p>\r\n      </>\r\n    </FormWrapper>\r\n  );\r\n};\r\n\r\nexport default RegisterScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Button, Form, Row, Col, Table } from 'react-bootstrap';\r\nimport { updateProfileAction } from '../actions/userActions';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\n\r\nconst ProfileScreen = ({ history }) => {\r\n  const dispatch = useDispatch();\r\n  const { user, loading, error } = useSelector(state => state.userInfo);\r\n\r\n  const [info, setInfo] = useState({\r\n    name: '',\r\n    email: '',\r\n    password: '',\r\n    conPassword: '',\r\n  });\r\n  const [msg, setMsg] = useState('');\r\n  const [msg2, setMsg2] = useState('');\r\n  const [loader, setLoader] = useState(true);\r\n  const [orders, setOrders] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      history.push('/login');\r\n      return;\r\n    } else {\r\n      setInfo({\r\n        ...info,\r\n        name: user.name,\r\n        email: user.email,\r\n      });\r\n    }\r\n    fetchOrders();\r\n    // eslint-disable-next-line\r\n  }, []);\r\n\r\n  const handleChange = ({ target }) => {\r\n    setInfo({\r\n      ...info,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    if (info.password !== info.conPassword) {\r\n      setMsg(\"Password doesn't match\");\r\n    } else {\r\n      dispatch(updateProfileAction(info));\r\n    }\r\n  };\r\n\r\n  //config\r\n  const config = {\r\n    headers: {\r\n      Authorization: localStorage.getItem('token'),\r\n    },\r\n  };\r\n\r\n  const fetchOrders = async () => {\r\n    try {\r\n      const { data } = await axios.get(`/api/orders/myorders`, config);\r\n      setOrders(data);\r\n    } catch (e) {\r\n      setMsg2(\r\n        e.response && e.response.data.message\r\n          ? e.response.data.message\r\n          : e.message\r\n      );\r\n    }\r\n    setLoader(false);\r\n  };\r\n\r\n  return (\r\n    <Row>\r\n      <Col md={3}>\r\n        {loading ? (\r\n          <Loader />\r\n        ) : error ? (\r\n          <Message variant=\"warning\">{error}</Message>\r\n        ) : msg ? (\r\n          <Message variant=\"warning\">{msg}</Message>\r\n        ) : (\r\n          ''\r\n        )}\r\n        <h2>My Profile</h2>\r\n        <Form onSubmit={handleSubmit}>\r\n          <Form.Group>\r\n            <Form.Label>Name</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Enter your name\"\r\n              name=\"name\"\r\n              value={info.name}\r\n              onChange={handleChange}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Email Address</Form.Label>\r\n            <Form.Control\r\n              type=\"text\"\r\n              placeholder=\"Enter email\"\r\n              name=\"email\"\r\n              value={info.email}\r\n              onChange={handleChange}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Password:</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              placeholder=\"Enter password\"\r\n              name=\"password\"\r\n              value={info.password}\r\n              onChange={handleChange}\r\n            />\r\n          </Form.Group>\r\n          <Form.Group>\r\n            <Form.Label>Confirm Password:</Form.Label>\r\n            <Form.Control\r\n              type=\"password\"\r\n              placeholder=\"Reenter password\"\r\n              name=\"conPassword\"\r\n              value={info.conPassword}\r\n              onChange={handleChange}\r\n            />\r\n          </Form.Group>\r\n          <Button type=\"submit\" variant=\"primary\" className=\"py-2 px-4 my-2\">\r\n            Update Profile\r\n          </Button>\r\n        </Form>\r\n      </Col>\r\n      <Col md={9}>\r\n        <h2>My orders</h2>\r\n        {loader ? (\r\n          <Loader />\r\n        ) : msg2 ? (\r\n          <Message variant=\"warning\">{msg2}</Message>\r\n        ) : (\r\n          <Table striped bordered hover className=\"table-sm\">\r\n            <thead>\r\n              <tr>\r\n                <th>ID</th>\r\n                <th>Date</th>\r\n                <th>TOTAL</th>\r\n                <th>PAID</th>\r\n                <th>DELIEVERED</th>\r\n                <th></th>\r\n              </tr>\r\n            </thead>\r\n\r\n            <tbody>\r\n              {orders.map(order => (\r\n                <tr key={order._id}>\r\n                  <td>{order._id}</td>\r\n                  <td>{moment(order.createdAt).format('L')}</td>\r\n                  <td>${order.totalPrice}</td>\r\n                  <td>\r\n                    <i\r\n                      className={`fas fa-${order.isPaid ? 'check' : 'times'}`}\r\n                      style={{ color: `${order.isPaid ? 'green' : 'red'}` }}\r\n                    ></i>\r\n                  </td>\r\n                  <td>\r\n                    <i\r\n                      className={`fas fa-${\r\n                        order.isDelivered ? 'check' : 'times'\r\n                      }`}\r\n                      style={{\r\n                        color: `${order.isDelivered ? 'green' : 'red'}`,\r\n                      }}\r\n                    ></i>\r\n                  </td>\r\n                  <td>\r\n                    <Button\r\n                      onClick={() => history.push(`/order/${order._id}`)}\r\n                      variant=\"light\"\r\n                      size=\"sm\"\r\n                    >\r\n                      DETAILS\r\n                    </Button>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </Table>\r\n        )}\r\n      </Col>\r\n    </Row>\r\n  );\r\n};\r\n\r\nexport default ProfileScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useSelector } from 'react-redux';\r\nimport { Button, Form } from 'react-bootstrap';\r\nimport FormWrapper from '../components/FormWrapper';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport axios from 'axios';\r\n\r\nconst ResetScreen = ({ history, location }) => {\r\n  const [msg, setMsg] = useState('');\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [info, setInfo] = useState({\r\n    password: '',\r\n    conPassword: '',\r\n    email: '',\r\n  });\r\n\r\n  const { user } = useSelector(state => state.userInfo);\r\n\r\n  useEffect(() => {\r\n    if (user) history.push('/');\r\n  }, [user, history]);\r\n\r\n  const token = location.search ? location.search.split('=')[1] : '';\r\n\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n    },\r\n  };\r\n\r\n  const handleChange = ({ target }) => {\r\n    setInfo({\r\n      ...info,\r\n      [target.name]: target.value,\r\n    });\r\n    console.log(info);\r\n  };\r\n\r\n  const resetPassword = async e => {\r\n    e.preventDefault();\r\n    const { password, conPassword } = info;\r\n    setLoading(true);\r\n    try {\r\n      if (password === conPassword) {\r\n        const res = await axios.post(\r\n          '/api/users/resetconfirm',\r\n          { password, token },\r\n          config\r\n        );\r\n        setMsg(res.data);\r\n      } else {\r\n        setMsg(\"Passwords doesn't match\");\r\n      }\r\n      setLoading(false);\r\n    } catch (e) {\r\n      setMsg(\r\n        e.response && e.response.data.message\r\n          ? e.response.data.message\r\n          : e.message\r\n      );\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const sendEmail = async e => {\r\n    e.preventDefault();\r\n    const { email } = info;\r\n    setLoading(true);\r\n    try {\r\n      const res = await axios.post('/api/users/resetemail', { email }, config);\r\n      setMsg(res.data);\r\n      setLoading(false);\r\n    } catch (e) {\r\n      setMsg(\r\n        e.response && e.response.data.message\r\n          ? e.response.data.message\r\n          : e.message\r\n      );\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <FormWrapper>\r\n      {msg && <Message variant=\"warning\">{msg}</Message>}\r\n      {loading && <Loader />}\r\n      {token ? (\r\n        <>\r\n          <h2>Enter your new password</h2>\r\n          <Form className=\"my-5\" onSubmit={resetPassword}>\r\n            <Form.Group>\r\n              <Form.Label>Password:</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                placeholder=\"Enter password\"\r\n                name=\"password\"\r\n                value={info.password}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n            </Form.Group>\r\n            <Form.Group>\r\n              <Form.Label>Confirm Password:</Form.Label>\r\n              <Form.Control\r\n                type=\"password\"\r\n                placeholder=\"Reenter password\"\r\n                name=\"conPassword\"\r\n                value={info.conPassword}\r\n                onChange={handleChange}\r\n              />\r\n            </Form.Group>\r\n            <Button type=\"submit\" variant=\"primary\" className=\"py-2 px-4 my-2\">\r\n              Reset Password\r\n            </Button>\r\n          </Form>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <h4>Enter your email to reset your password</h4>\r\n          <Form className=\"my-5\" onSubmit={sendEmail}>\r\n            <Form.Group>\r\n              <Form.Label>Your Email:</Form.Label>\r\n              <Form.Control\r\n                type=\"email\"\r\n                placeholder=\"Enter your email\"\r\n                name=\"email\"\r\n                value={info.email}\r\n                onChange={handleChange}\r\n                required\r\n              />\r\n            </Form.Group>\r\n            <Button type=\"submit\" variant=\"primary\" className=\"py-2 px-4 my-2\">\r\n              SEND EMAIL\r\n            </Button>\r\n          </Form>\r\n        </>\r\n      )}\r\n    </FormWrapper>\r\n  );\r\n};\r\n\r\nexport default ResetScreen;\r\n","import React from 'react';\r\nimport { Nav } from 'react-bootstrap';\r\nimport { LinkContainer } from 'react-router-bootstrap';\r\n\r\nconst CheckoutSteps = ({ step1, step2, step3, step4 }) => {\r\n  return (\r\n    <Nav className=\"justify-content-end mb-4\">\r\n      {step1 ? (\r\n        <LinkContainer to=\"/login\">\r\n          <Nav.Link>Sign In</Nav.Link>\r\n        </LinkContainer>\r\n      ) : (\r\n        <Nav.Link disabled>Sign In</Nav.Link>\r\n      )}\r\n      {step2 ? (\r\n        <LinkContainer to=\"/shipping\">\r\n          <Nav.Link>Shipping</Nav.Link>\r\n        </LinkContainer>\r\n      ) : (\r\n        <Nav.Link disabled>Shipping</Nav.Link>\r\n      )}\r\n      {step3 ? (\r\n        <LinkContainer to=\"/payment\">\r\n          <Nav.Link>Payment</Nav.Link>\r\n        </LinkContainer>\r\n      ) : (\r\n        <Nav.Link disabled>Payment</Nav.Link>\r\n      )}\r\n      {step4 ? (\r\n        <LinkContainer to=\"/placeorder\">\r\n          <Nav.Link>Place Order</Nav.Link>\r\n        </LinkContainer>\r\n      ) : (\r\n        <Nav.Link disabled>Place Order</Nav.Link>\r\n      )}\r\n    </Nav>\r\n  );\r\n};\r\n\r\nexport default CheckoutSteps;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Button, Form } from 'react-bootstrap';\r\nimport { cartAddress } from '../actions/productActions';\r\nimport FormWrapper from '../components/FormWrapper';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\n\r\nconst ShippingScreen = ({ history }) => {\r\n  const dispatch = useDispatch();\r\n  const { user } = useSelector(state => state.userInfo);\r\n  const { address, postalCode, city, country } = useSelector(\r\n    state => state.cart.shippingAddress\r\n  );\r\n\r\n  const [info, setInfo] = useState({\r\n    address,\r\n    country,\r\n    postalCode,\r\n    city,\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      history.push('/login?redirect=shipping');\r\n    }\r\n  }, [user, history]);\r\n\r\n  const handleChange = ({ target }) => {\r\n    setInfo({\r\n      ...info,\r\n      [target.name]: target.value,\r\n    });\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    dispatch(cartAddress(info));\r\n    history.push('/payment');\r\n  };\r\n  return (\r\n    <FormWrapper>\r\n      <CheckoutSteps step1 step2 />\r\n      <h1 className=\"my-3\">SHIPPING</h1>\r\n      <Form onSubmit={handleSubmit}>\r\n        <Form.Group>\r\n          <Form.Label>Address :</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Your Address\"\r\n            name=\"address\"\r\n            value={info.address}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </Form.Group>\r\n        <Form.Group>\r\n          <Form.Label>Country:</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Enter country\"\r\n            name=\"country\"\r\n            value={info.country}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </Form.Group>\r\n        <Form.Group>\r\n          <Form.Label>Postal Code:</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"postalCode\"\r\n            name=\"postalCode\"\r\n            value={info.postalCode}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </Form.Group>\r\n        <Form.Group>\r\n          <Form.Label>City:</Form.Label>\r\n          <Form.Control\r\n            type=\"text\"\r\n            placeholder=\"Enter city\"\r\n            name=\"city\"\r\n            value={info.city}\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </Form.Group>\r\n        <Button type=\"submit\" variant=\"primary\" className=\"py-2 px-4 my-2\">\r\n          CONTINUE\r\n        </Button>\r\n      </Form>\r\n    </FormWrapper>\r\n  );\r\n};\r\n\r\nexport default ShippingScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { Button, Form } from 'react-bootstrap';\r\nimport { cartMethod } from '../actions/productActions';\r\nimport FormWrapper from '../components/FormWrapper';\r\nimport CheckoutSteps from '../components/CheckoutSteps';\r\n\r\nconst PaymentScreen = ({ history }) => {\r\n  const dispatch = useDispatch();\r\n  const { user } = useSelector(state => state.userInfo);\r\n  const paymentMethod = useSelector(state => state.cart.paymentMethod);\r\n\r\n  const [method, setMethod] = useState(paymentMethod);\r\n\r\n  useEffect(() => {\r\n    if (!user) {\r\n      history.push('/login?redirect=shipping');\r\n    }\r\n  }, [user, history]);\r\n\r\n  const handleChange = ({ target }) => {\r\n    setMethod(target.value);\r\n  };\r\n\r\n  const handleSubmit = e => {\r\n    e.preventDefault();\r\n    dispatch(cartMethod(method));\r\n    history.push('/placeorder');\r\n  };\r\n\r\n  return (\r\n    <FormWrapper>\r\n      <CheckoutSteps step1 step2 step3 />\r\n      <h1 className=\"my-3\">PAYMENT METHOD</h1>\r\n      <Form onSubmit={handleSubmit}>\r\n        <Form.Group>\r\n          <Form.Label as=\"legend\">SELECT Method :</Form.Label>\r\n          <Form.Check\r\n            type=\"radio\"\r\n            label=\"Paypal or credit card\"\r\n            name=\"paymentMethod\"\r\n            value=\"Paypal\"\r\n            onChange={handleChange}\r\n            required\r\n          />\r\n        </Form.Group>\r\n        <Button type=\"submit\" variant=\"primary\" className=\"py-2 px-4 my-2\">\r\n          CONTINUE\r\n        </Button>\r\n      </Form>\r\n    </FormWrapper>\r\n  );\r\n};\r\n\r\nexport default PaymentScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport CheckOutSteps from '../components/CheckoutSteps';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport FormWrapper from '../components/FormWrapper';\r\nimport { ListGroup, Button, Card, Row, Col, Image } from 'react-bootstrap';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { CART_EMPTY } from '../actions/types';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nconst PlaceOrderScreen = ({ history }) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n\r\n  const dispatch = useDispatch();\r\n  const { user } = useSelector(state => state.userInfo);\r\n  useEffect(() => {\r\n    if (!user) history.push('/login?redirect=shipping');\r\n  }, [user, history]);\r\n\r\n  const { cartItems, shippingAddress, paymentMethod } = useSelector(\r\n    state => state.cart\r\n  );\r\n  const { address, country, city, postalCode } = shippingAddress;\r\n\r\n  //prices\r\n  const itemsPrice = Number(\r\n    cartItems.reduce((acc, cur) => acc + cur.price * cur.qty, 0).toFixed(2)\r\n  );\r\n  const taxPrice = Number((itemsPrice * 0.15).toFixed(2));\r\n  const shippingPrice = itemsPrice > 100 ? 0 : 10;\r\n  const totalPrice = Number(itemsPrice + taxPrice + shippingPrice).toFixed(2);\r\n\r\n  //config\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: localStorage.getItem('token'),\r\n    },\r\n  };\r\n\r\n  const handleClick = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const { data } = await axios.post(\r\n        '/api/orders/',\r\n        {\r\n          orderItems: cartItems,\r\n          shippingAddress: { address, country, city, postalCode },\r\n          paymentMethod,\r\n        },\r\n        config\r\n      );\r\n      dispatch({ type: CART_EMPTY });\r\n      history.push(`/order/${data}`);\r\n    } catch (e) {\r\n      setError(\r\n        e.response && e.response.data.message\r\n          ? e.response.data.message\r\n          : e.message\r\n      );\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {error && <Message variant=\"danger\">{error}</Message>}\r\n      <FormWrapper>\r\n        <CheckOutSteps\r\n          className=\"justify-content-center\"\r\n          step1\r\n          step2\r\n          step3\r\n          step4\r\n        />\r\n      </FormWrapper>\r\n      <Row>\r\n        <Col md={8}>\r\n          <ListGroup variant=\"flush\">\r\n            <ListGroup.Item>\r\n              <h3>SHIPPING</h3>\r\n              <p>\r\n                Address : {address}, {city}&nbsp;\r\n                {postalCode}, {country}\r\n              </p>\r\n            </ListGroup.Item>\r\n            <ListGroup.Item>\r\n              <h3>PAYMENT METHOD</h3>\r\n              <p>Method : {paymentMethod}</p>\r\n            </ListGroup.Item>\r\n            <ListGroup.Item>\r\n              <h2>CART ITEMS</h2>\r\n              {cartItems.length === 0 ? (\r\n                <Message variant=\"primary\">You don't have any items</Message>\r\n              ) : (\r\n                <ListGroup variant=\"flush\">\r\n                  {cartItems.map((item, i) => (\r\n                    <ListGroup.Item key={i}>\r\n                      <Row>\r\n                        <Col md={2}>\r\n                          <Image src={item.image} alt={item.name} fluid />\r\n                        </Col>\r\n                        <Col md={6} className=\"align-self-center\">\r\n                          <Link to={`/product/${item.id}`}>{item.name}</Link>\r\n                        </Col>\r\n                        <Col md={4} className=\"align-self-center\">\r\n                          {item.qty}&nbsp;x&nbsp;${item.price}&nbsp;=&nbsp; $\r\n                          {(item.qty * item.price).toFixed(2)}\r\n                        </Col>\r\n                      </Row>\r\n                    </ListGroup.Item>\r\n                  ))}\r\n                </ListGroup>\r\n              )}\r\n            </ListGroup.Item>\r\n          </ListGroup>\r\n        </Col>\r\n        <Col md={4}>\r\n          <Card>\r\n            <ListGroup variant=\"flush\">\r\n              <ListGroup.Item>\r\n                <h3>Order Summary</h3>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Row>\r\n                  <Col>Items price :</Col>\r\n                  <Col>${itemsPrice}</Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Row>\r\n                  <Col>Tax price :</Col>\r\n                  <Col>${taxPrice}</Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Row>\r\n                  <Col>Shipping price :</Col>\r\n                  <Col>${shippingPrice}</Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <Row>\r\n                  <Col>Total price :</Col>\r\n                  <Col>${totalPrice}</Col>\r\n                </Row>\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                {loading && <Loader />}\r\n                <Button\r\n                  variant=\"primary\"\r\n                  className=\"btn-block\"\r\n                  disabled={cartItems.length === 0}\r\n                  onClick={handleClick}\r\n                >\r\n                  Create Order\r\n                </Button>\r\n              </ListGroup.Item>\r\n            </ListGroup>\r\n          </Card>\r\n        </Col>\r\n      </Row>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PlaceOrderScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Message from '../components/Message';\r\nimport Loader from '../components/Loader';\r\nimport { useSelector } from 'react-redux';\r\nimport { ListGroup, Card, Row, Col, Image } from 'react-bootstrap';\r\nimport { PayPalButton } from 'react-paypal-button-v2';\r\nimport { Link } from 'react-router-dom';\r\nimport axios from 'axios';\r\nimport moment from 'moment';\r\n\r\nconst PlaceOrderScreen = ({ match, history }) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [order, setOrder] = useState({\r\n    user: {},\r\n    shippingAddress: {},\r\n    orderItems: [],\r\n  });\r\n\r\n  const [sdkReady, setSdkReady] = useState(false);\r\n\r\n  const { user } = useSelector(state => state.userInfo);\r\n\r\n  useEffect(() => {\r\n    if (!user) history.push('/login');\r\n    else {\r\n      if (!order.user.name) {\r\n        getOrder();\r\n      } else if (!order.isPaid) {\r\n        if (!window.paypal) {\r\n          addPayPalScript();\r\n        } else {\r\n          setSdkReady(true);\r\n        }\r\n      }\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [user, history, order]);\r\n\r\n  //config\r\n  const config = {\r\n    headers: {\r\n      'Content-Type': 'application/json',\r\n      Authorization: localStorage.getItem('token'),\r\n    },\r\n  };\r\n\r\n  const getOrder = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const { data } = await axios.get(\r\n        `/api/orders/${match.params.id}`,\r\n        config\r\n      );\r\n      setOrder(data);\r\n    } catch (e) {\r\n      setError(\r\n        e.response && e.response.data.message\r\n          ? e.response.data.message\r\n          : e.message\r\n      );\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const addPayPalScript = async () => {\r\n    const { data: clientId } = await axios.get('/api/config/paypal');\r\n    const script = document.createElement('script');\r\n    script.type = 'text/javascript';\r\n    script.src = `https://www.paypal.com/sdk/js?client-id=${clientId}`;\r\n    script.async = true;\r\n    script.onload = () => {\r\n      setSdkReady(true);\r\n    };\r\n    document.body.appendChild(script);\r\n  };\r\n\r\n  const onSuccessHandler = async paymentResult => {\r\n    setLoading(true);\r\n    try {\r\n      const { data } = await axios.put(\r\n        `/api/orders/pay/${order._id}`,\r\n        { ...paymentResult },\r\n        config\r\n      );\r\n      setOrder(data);\r\n    } catch (e) {\r\n      setError(\r\n        e.response && e.response.data.message\r\n          ? e.response.data.message\r\n          : e.message\r\n      );\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {error ? (\r\n        <Message variant=\"danger\">{error}</Message>\r\n      ) : loading ? (\r\n        <Loader />\r\n      ) : (\r\n        <Row>\r\n          <h2>Order {match.params.id}</h2>\r\n          <Col md={8}>\r\n            <ListGroup variant=\"flush\">\r\n              <ListGroup.Item>\r\n                <h3>SHIPPING</h3>\r\n                <p>Name : {order.user.name}</p>\r\n                <p>Email : {order.user.email}</p>\r\n                <p>\r\n                  Address : {order.shippingAddress.address},{' '}\r\n                  {order.shippingAddress.city}&nbsp;\r\n                  {order.shippingAddress.postalCode},{' '}\r\n                  {order.shippingAddress.country}\r\n                </p>\r\n                {order.isDelivered ? (\r\n                  <p>\r\n                    Delivered at : {moment(order.deliveredAt).format('LLL')}\r\n                  </p>\r\n                ) : (\r\n                  <Message variant=\"warning\">Not delivered yet</Message>\r\n                )}\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <h3>PAYMENT METHOD</h3>\r\n                <p>Method : {order.paymentMethod}</p>\r\n                {order.isPaid ? (\r\n                  <p>Paid at : {moment(order.paidAt).format('LLL')}</p>\r\n                ) : (\r\n                  <Message variant=\"warning\">Not paid yet</Message>\r\n                )}\r\n              </ListGroup.Item>\r\n              <ListGroup.Item>\r\n                <h2>ORDER ITEMS</h2>\r\n                {order.orderItems.length === 0 ? (\r\n                  <Message variant=\"primary\">You don't have any items</Message>\r\n                ) : (\r\n                  <ListGroup variant=\"flush\">\r\n                    {order.orderItems.map((item, i) => (\r\n                      <ListGroup.Item key={i}>\r\n                        <Row>\r\n                          <Col md={2}>\r\n                            <Image src={item.image} alt={item.name} fluid />\r\n                          </Col>\r\n                          <Col md={6} className=\"align-self-center\">\r\n                            <Link to={`/product/${item.id}`}>{item.name}</Link>\r\n                          </Col>\r\n                          <Col md={4} className=\"align-self-center\">\r\n                            {item.qty}&nbsp;x&nbsp;${item.price}&nbsp;=&nbsp; $\r\n                            {(item.qty * item.price).toFixed(2)}\r\n                          </Col>\r\n                        </Row>\r\n                      </ListGroup.Item>\r\n                    ))}\r\n                  </ListGroup>\r\n                )}\r\n              </ListGroup.Item>\r\n            </ListGroup>\r\n          </Col>\r\n          <Col md={4}>\r\n            <Card>\r\n              <ListGroup variant=\"flush\">\r\n                <ListGroup.Item>\r\n                  <h3>Order Summary</h3>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Items price :</Col>\r\n                    <Col>${order.itemsPrice}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Tax price :</Col>\r\n                    <Col>${order.taxPrice}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Shipping price :</Col>\r\n                    <Col>${order.shippingPrice}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                <ListGroup.Item>\r\n                  <Row>\r\n                    <Col>Total price :</Col>\r\n                    <Col>${order.totalPrice}</Col>\r\n                  </Row>\r\n                </ListGroup.Item>\r\n                {!order.isPaid && (\r\n                  <ListGroup.Item>\r\n                    {!sdkReady ? (\r\n                      <Loader />\r\n                    ) : (\r\n                      <PayPalButton\r\n                        amount={order.totalPrice}\r\n                        onSuccess={onSuccessHandler}\r\n                      />\r\n                    )}\r\n                  </ListGroup.Item>\r\n                )}\r\n              </ListGroup>\r\n            </Card>\r\n          </Col>\r\n        </Row>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default PlaceOrderScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport Paginate from '../components/Paginate';\r\nimport { useSelector } from 'react-redux';\r\nimport { Button, Table } from 'react-bootstrap';\r\nimport axios from 'axios';\r\n\r\nconst UserListScreen = ({ history, match }) => {\r\n  const { user } = useSelector(state => state.userInfo);\r\n  const [users, setUsers] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [message, setMessage] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [numOfPages, setNumOfPages] = useState(1);\r\n\r\n  const config = {\r\n    headers: {\r\n      Authorization: localStorage.getItem('token'),\r\n    },\r\n  };\r\n  useEffect(() => {\r\n    if (!user || !user.isAdmin) history.push('/');\r\n    else {\r\n      fetchUsers(match.params.page);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [user, match.params.page]);\r\n\r\n  const fetchUsers = async page => {\r\n    setLoading(true);\r\n    try {\r\n      const { data } = await axios.get(`/api/users/${page}`, config);\r\n      setUsers(data.users);\r\n      setNumOfPages(data.pages);\r\n    } catch (e) {\r\n      setError(\r\n        e.response && e.response.data.message\r\n          ? e.response.data.message\r\n          : e.message\r\n      );\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const deleteUser = async (id, name) => {\r\n    if (\r\n      window.confirm(`Delete ${name}??`) &&\r\n      window.confirm(`Confirm again to delete ${name}??`)\r\n    ) {\r\n      setLoading(true);\r\n      try {\r\n        const { data } = await axios.delete(`/api/users/${id}`, config);\r\n        setMessage(data);\r\n        setUsers(users.filter(user => user._id !== id));\r\n      } catch (e) {\r\n        setError(\r\n          e.response && e.response.data.message\r\n            ? e.response.data.message\r\n            : e.message\r\n        );\r\n      }\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const makeUserAdmin = async (id, name) => {\r\n    if (\r\n      window.confirm(`Make ${name} an admin??`) &&\r\n      window.confirm(`Confirm again to make ${name} an admin??`)\r\n    ) {\r\n      setLoading(true);\r\n      try {\r\n        const { data } = await axios.put(`/api/users/${id}`, null, config);\r\n        setMessage(data);\r\n        setUsers(\r\n          users.map(user => {\r\n            if (user._id !== id) return user;\r\n            else {\r\n              user.isAdmin = !user.isAdmin;\r\n              return user;\r\n            }\r\n          })\r\n        );\r\n      } catch (e) {\r\n        setError(\r\n          e.response && e.response.data.message\r\n            ? e.response.data.message\r\n            : e.message\r\n        );\r\n      }\r\n      setLoading(false);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <h2>USERS</h2>\r\n      {loading && <Loader />}\r\n      {error && <Message variant=\"danger\">{error}</Message>}\r\n      {message && <Message variant=\"success\">{message}</Message>}\r\n      <Table hover striped bordered className=\"table-sm\">\r\n        <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>NAME</th>\r\n            <th>EMAIL</th>\r\n            <th>IS ADMIN</th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {users.map(user => (\r\n            <tr key={user._id}>\r\n              <td>{user._id}</td>\r\n              <td>{user.name}</td>\r\n              <td>{user.email}</td>\r\n              <td>\r\n                {user.isAdmin ? (\r\n                  <i className=\"fas fa-check\" style={{ color: 'green' }}></i>\r\n                ) : (\r\n                  <i className=\"fas fa-times\" style={{ color: 'red' }}></i>\r\n                )}\r\n              </td>\r\n              <td>\r\n                <Button\r\n                  variant=\"success\"\r\n                  onClick={() => makeUserAdmin(user._id, user.name)}\r\n                >\r\n                  {user.isAdmin ? 'STOP ADMIN' : 'MAKE ADMIN'}\r\n                </Button>\r\n                <Button\r\n                  variant=\"danger\"\r\n                  onClick={() => deleteUser(user._id, user.name)}\r\n                >\r\n                  <i className=\"fas fa-trash\"></i>\r\n                </Button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </Table>\r\n      <Paginate\r\n        url=\"/admin/userlist\"\r\n        page={parseInt(match.params.page)}\r\n        numOfPages={numOfPages}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserListScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport Paginate from '../components/Paginate';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { Button, Table, Row, Col } from 'react-bootstrap';\r\nimport { productListAction } from '../actions/productActions';\r\nimport { PRODUCT_LIST_REMOVE } from '../actions/types';\r\nimport axios from 'axios';\r\n\r\nconst ProductListScreen = ({ history, match }) => {\r\n  const { user } = useSelector(state => state.userInfo);\r\n  const { loading, products, numOfPages, error } = useSelector(\r\n    state => state.productList\r\n  );\r\n  const dispatch = useDispatch();\r\n\r\n  const [message, setMessage] = useState('');\r\n  const [loader, setLoader] = useState(false);\r\n  const [err, setErr] = useState('');\r\n\r\n  const config = {\r\n    headers: {\r\n      Authorization: localStorage.getItem('token'),\r\n    },\r\n  };\r\n  useEffect(() => {\r\n    if (!user || !user.isAdmin) history.push('/');\r\n    else {\r\n      dispatch(productListAction(match.params.page, 25));\r\n    }\r\n  }, [user, match.params.page, dispatch, history]);\r\n\r\n  const deleteProduct = async (id, name) => {\r\n    if (window.confirm(`Delete ${name}??`)) {\r\n      setLoader(true);\r\n      try {\r\n        const { data } = await axios.delete(`/api/products/${id}`, config);\r\n        setMessage(data);\r\n        dispatch({ type: PRODUCT_LIST_REMOVE, id });\r\n      } catch (e) {\r\n        setErr(\r\n          e.response && e.response.data.message\r\n            ? e.response.data.message\r\n            : e.message\r\n        );\r\n      }\r\n      setLoader(false);\r\n    }\r\n  };\r\n\r\n  const createProduct = async () => {\r\n    setLoader(true);\r\n    try {\r\n      const { data } = await axios.post(`/api/products/`, {}, config);\r\n      history.push(`/product/edit/${data._id}`);\r\n    } catch (e) {\r\n      setErr(\r\n        e.response && e.response.data.message\r\n          ? e.response.data.message\r\n          : e.message\r\n      );\r\n      setLoader(false);\r\n    }\r\n  };\r\n  return (\r\n    <>\r\n      <Row className=\"my-4\">\r\n        <Col>\r\n          <h1>PRODUCTS</h1>\r\n        </Col>\r\n        <Col className=\"text-right\">\r\n          <Button onClick={createProduct}>Create Product</Button>\r\n        </Col>\r\n      </Row>\r\n      {loading && <Loader />}\r\n      {loader && <Loader />}\r\n      {error && <Message variant=\"danger\">{error}</Message>}\r\n      {err && <Message variant=\"danger\">{err}</Message>}\r\n      {message && <Message variant=\"success\">{message}</Message>}\r\n      <Table hover striped bordered className=\"table-sm\">\r\n        <thead>\r\n          <tr>\r\n            <th>NAME</th>\r\n            <th>BRAND</th>\r\n            <th>CATEGORY</th>\r\n            <th>PRICE</th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {products.map(product => (\r\n            <tr key={product._id}>\r\n              <td>\r\n                <Link to={`/product/${product._id}`}>{product.name}</Link>\r\n              </td>\r\n              <td>{product.brand}</td>\r\n              <td>{product.category}</td>\r\n              <td>${product.price}</td>\r\n              <td>\r\n                <Button\r\n                  variant=\"secondary\"\r\n                  onClick={() => history.push(`/product/edit/${product._id}`)}\r\n                >\r\n                  <i className=\"fas fa-edit\"></i>\r\n                </Button>\r\n                <Button\r\n                  variant=\"danger\"\r\n                  onClick={() => deleteProduct(product._id, product.name)}\r\n                >\r\n                  <i className=\"fas fa-trash\"></i>\r\n                </Button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </Table>\r\n      <Paginate\r\n        url=\"/admin/productlist\"\r\n        page={parseInt(match.params.page)}\r\n        numOfPages={numOfPages}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default ProductListScreen;\r\n","import React, { useState, useEffect } from 'react';\r\nimport Loader from '../components/Loader';\r\nimport Message from '../components/Message';\r\nimport Paginate from '../components/Paginate';\r\nimport { Link } from 'react-router-dom';\r\nimport { useSelector } from 'react-redux';\r\nimport { Button, Table } from 'react-bootstrap';\r\nimport axios from 'axios';\r\n\r\nconst OrderListScreen = ({ history, match }) => {\r\n  const { user } = useSelector(state => state.userInfo);\r\n  const [orders, setOrders] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [message, setMessage] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [numOfPages, setNumOfPages] = useState(1);\r\n\r\n  const config = {\r\n    headers: {\r\n      Authorization: localStorage.getItem('token'),\r\n    },\r\n  };\r\n  useEffect(() => {\r\n    if (!user || !user.isAdmin) history.push('/');\r\n    else {\r\n      fetchOrders(match.params.page);\r\n    }\r\n    // eslint-disable-next-line\r\n  }, [user, match.params.page]);\r\n\r\n  const fetchOrders = async page => {\r\n    setLoading(true);\r\n    try {\r\n      const { data } = await axios.get(`/api/orders/all/${page}`, config);\r\n      setOrders(data.orders);\r\n      setNumOfPages(data.numOfPages);\r\n    } catch (e) {\r\n      setError(\r\n        e.response && e.response.data.message\r\n          ? e.response.data.message\r\n          : e.message\r\n      );\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const updateOrderToDelivred = async (id, price) => {\r\n    if (\r\n      window.confirm(`Update this order to be deliverd whose value ${price}?`)\r\n    ) {\r\n      setLoading(true);\r\n      try {\r\n        const { data } = await axios.put(\r\n          `/api/orders/deliver/${id}`,\r\n          {},\r\n          config\r\n        );\r\n        setMessage(data);\r\n        setOrders(\r\n          orders.map(order => {\r\n            if (order._id !== id) return order;\r\n            else {\r\n              order.isDelivered = true;\r\n              return order;\r\n            }\r\n          })\r\n        );\r\n      } catch (e) {\r\n        setError(\r\n          e.response && e.response.data.message\r\n            ? e.response.data.message\r\n            : e.message\r\n        );\r\n      }\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <h2>ORDERS</h2>\r\n      {loading && <Loader />}\r\n      {error && <Message variant=\"danger\">{error}</Message>}\r\n      {message && <Message variant=\"success\">{message}</Message>}\r\n      <Table hover striped bordered className=\"table-sm\">\r\n        <thead>\r\n          <tr>\r\n            <th>ID</th>\r\n            <th>OWNER NAME</th>\r\n            <th>TOTAL PRICE</th>\r\n            <th>IS PAID</th>\r\n            <th>IS DELIVERED</th>\r\n            <th></th>\r\n          </tr>\r\n        </thead>\r\n        <tbody>\r\n          {orders.map(order => (\r\n            <tr key={order._id}>\r\n              <td>\r\n                <Link to={`/order/${order._id}`}>{order._id}</Link>\r\n              </td>\r\n              <td>{order.user.name}</td>\r\n              <td>${order.totalPrice}</td>\r\n              <td>\r\n                {order.isPaid ? (\r\n                  <i className=\"fas fa-check\" style={{ color: 'green' }}></i>\r\n                ) : (\r\n                  <i className=\"fas fa-times\" style={{ color: 'red' }}></i>\r\n                )}\r\n              </td>\r\n              <td>\r\n                {order.isDelivered ? (\r\n                  <i className=\"fas fa-check\" style={{ color: 'green' }}></i>\r\n                ) : (\r\n                  <i className=\"fas fa-times\" style={{ color: 'red' }}></i>\r\n                )}\r\n              </td>\r\n              <td>\r\n                <Button\r\n                  variant=\"secondary\"\r\n                  onClick={() =>\r\n                    updateOrderToDelivred(order._id, order.totalPrice)\r\n                  }\r\n                  disabled={order.isDelivered}\r\n                >\r\n                  Deliver\r\n                </Button>\r\n              </td>\r\n            </tr>\r\n          ))}\r\n        </tbody>\r\n      </Table>\r\n      <Paginate\r\n        url=\"/admin/orderlist\"\r\n        page={parseInt(match.params.page)}\r\n        numOfPages={numOfPages}\r\n      />\r\n    </>\r\n  );\r\n};\r\n\r\nexport default OrderListScreen;\r\n","import React, { useEffect } from 'react';\nimport { useDispatch } from 'react-redux';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\nimport HomeScreen from './screens/HomeScreen';\nimport ProductScreen from './screens/ProductScreen';\nimport ProductEditScreen from './screens/ProductEditScreen';\nimport CartScreen from './screens/CartScreen';\nimport LoginScreen from './screens/LoginScreen';\nimport RegisterScreen from './screens/RegisterScreen';\nimport ProfileScreen from './screens/ProfileScreen';\nimport ResetScreen from './screens/ResetScreen';\nimport ShippingScreen from './screens/ShippingScreen';\nimport PaymentScreen from './screens/PaymentScreen';\nimport PlaceOrderScreen from './screens/PlaceOrderScreen';\nimport OrderScreen from './screens/OrderScreen';\nimport UserListScreen from './screens/UserListScreen';\nimport ProductListScreen from './screens/ProductListScreen';\nimport OrderListScreen from './screens/OrderListScreen';\nimport { profileAction } from './actions/userActions';\nimport { Container } from 'react-bootstrap';\nimport { BrowserRouter, Route, Switch } from 'react-router-dom';\n\nfunction App() {\n  const dispatch = useDispatch();\n  useEffect(() => {\n    if (localStorage.getItem('token')) {\n      dispatch(profileAction(localStorage.getItem('token')));\n    }\n  }, [dispatch]);\n  return (\n    <BrowserRouter basename=\"/\">\n      <Header />\n      <main className=\"main py-3\">\n        <Container>\n          <Switch>\n            <Route path=\"/product/edit/:id\" component={ProductEditScreen} />\n\n            <Route path=\"/product/:id\" component={ProductScreen} />\n            <Route path=\"/cart/:id?\" component={CartScreen} />\n            <Route path=\"/login\" component={LoginScreen} />\n            <Route path=\"/register\" component={RegisterScreen} />\n            <Route path=\"/profile\" component={ProfileScreen} />\n            <Route path=\"/reset\" component={ResetScreen} />\n            <Route path=\"/shipping\" component={ShippingScreen} />\n            <Route path=\"/payment\" component={PaymentScreen} />\n            <Route path=\"/placeorder\" component={PlaceOrderScreen} />\n            <Route path=\"/order/:id\" component={OrderScreen} />\n            <Route path=\"/admin/userlist/:page\" component={UserListScreen} />\n            <Route path=\"/admin/orderlist/:page\" component={OrderListScreen} />\n            <Route\n              path=\"/admin/productlist/:page\"\n              component={ProductListScreen}\n            />\n            <Route path=\"/:page?\" component={HomeScreen} exact />\n            <Route\n              path=\"/search/:keyword/:page?\"\n              component={HomeScreen}\n              exact\n            />\n          </Switch>\n        </Container>\n      </main>\n      <Footer />\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import { createStore, applyMiddleware, combineReducers } from 'redux';\r\nimport { composeWithDevTools } from 'redux-devtools-extension';\r\nimport thunk from 'redux-thunk';\r\nimport {\r\n  productListReducer,\r\n  cartReducer,\r\n  productTopReducer,\r\n} from './reducers/productReducers';\r\nimport { userReducer } from './reducers/userReducer';\r\n\r\nconst cartItems = localStorage.getItem('cartItems')\r\n  ? JSON.parse(localStorage.getItem('cartItems'))\r\n  : [];\r\n\r\nconst shippingAddress = localStorage.getItem('shippingAddress')\r\n  ? JSON.parse(localStorage.getItem('shippingAddress'))\r\n  : {};\r\n\r\nconst paymentMethod = localStorage.getItem('paymentMethod')\r\n  ? localStorage.getItem('paymentMethod')\r\n  : '';\r\n\r\nconst initState = {\r\n  cart: {\r\n    cartItems,\r\n    shippingAddress,\r\n    paymentMethod,\r\n  },\r\n};\r\n\r\nconst reducer = combineReducers({\r\n  productList: productListReducer,\r\n  top: productTopReducer,\r\n  cart: cartReducer,\r\n  userInfo: userReducer,\r\n});\r\n\r\nconst store = createStore(\r\n  reducer,\r\n  initState,\r\n  composeWithDevTools(applyMiddleware(thunk))\r\n);\r\n\r\nexport default store;\r\n","import {\r\n  PRODUCT_LIST_REQUEST,\r\n  PRODUCT_LIST_SUCCESS,\r\n  PRODUCT_LIST_FAIL,\r\n  PRODUCT_LIST_REMOVE,\r\n  PRODUCT_TOP_REQUEST,\r\n  PRODUCT_TOP_SUCCESS,\r\n  PRODUCT_TOP_FAIL,\r\n  CART_ADD_ITEM,\r\n  CART_REMOVE_ITEM,\r\n  CART_REQUEST,\r\n  CART_FAIL,\r\n  CART_SHIPPING_ADDRESS,\r\n  CART_PAYMENT_METHOD,\r\n  CART_EMPTY,\r\n} from '../actions/types';\r\n\r\nexport const productListReducer = (\r\n  state = { loading: true, products: [], numOfPages: 1 },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case PRODUCT_LIST_REQUEST:\r\n      return { ...state, loading: true, products: [] };\r\n    case PRODUCT_LIST_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        products: action.payload,\r\n        numOfPages: action.numOfPages,\r\n        page: action.page,\r\n        keyword: action.keyword,\r\n      };\r\n    case PRODUCT_LIST_FAIL:\r\n      return { ...state, loading: false, error: action.payload };\r\n    case PRODUCT_LIST_REMOVE:\r\n      const products = state.products.filter(\r\n        product => product._id !== action.id\r\n      );\r\n      return { ...state, products };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const productTopReducer = (\r\n  state = { loading: true, products: [] },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case PRODUCT_TOP_REQUEST:\r\n      return { ...state, loading: true, products: [] };\r\n    case PRODUCT_TOP_SUCCESS:\r\n      return {\r\n        loading: false,\r\n        products: action.payload,\r\n      };\r\n    case PRODUCT_TOP_FAIL:\r\n      return { ...state, loading: false, error: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nexport const cartReducer = (\r\n  state = { cartItems: [], loading: false, shippingAddress: {} },\r\n  action\r\n) => {\r\n  switch (action.type) {\r\n    case CART_REQUEST:\r\n      return { ...state, loading: true };\r\n    case CART_FAIL:\r\n      return { ...state, loading: false, error: action.payload };\r\n    case CART_ADD_ITEM:\r\n      const item = action.payload;\r\n      const existItem = state.cartItems.find(x => x.id === item.id);\r\n      if (existItem) {\r\n        const items = state.cartItems.map(x => (x.id === item.id ? item : x));\r\n        return {\r\n          ...state,\r\n          loading: false,\r\n          cartItems: items,\r\n        };\r\n      } else {\r\n        return {\r\n          ...state,\r\n          loading: false,\r\n          cartItems: [...state.cartItems, item],\r\n        };\r\n      }\r\n    case CART_REMOVE_ITEM:\r\n      const items = state.cartItems.filter(item => item.id !== action.payload);\r\n      return {\r\n        ...state,\r\n        cartItems: items,\r\n      };\r\n    case CART_SHIPPING_ADDRESS:\r\n      return {\r\n        ...state,\r\n        shippingAddress: action.payload,\r\n      };\r\n\r\n    case CART_PAYMENT_METHOD:\r\n      return {\r\n        ...state,\r\n        paymentMethod: action.payload,\r\n      };\r\n    case CART_EMPTY:\r\n      return {\r\n        ...state,\r\n        cartItems: [],\r\n      };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import {\r\n  USER_REQUEST,\r\n  USER_SUCCESS,\r\n  USER_FAIL,\r\n  USER_LOGOUT,\r\n  USER_PROFILE,\r\n} from '../actions/types';\r\n\r\nexport const userReducer = (state = {}, action) => {\r\n  switch (action.type) {\r\n    case USER_REQUEST:\r\n      return { loading: true };\r\n    case USER_SUCCESS:\r\n      localStorage.setItem('token', action.payload.token);\r\n      return { loading: false, user: action.payload };\r\n    case USER_FAIL:\r\n      console.log(action.payload);\r\n      localStorage.removeItem('token');\r\n      return { loading: false, error: action.payload };\r\n    case USER_LOGOUT:\r\n      localStorage.removeItem('token');\r\n      return {};\r\n    case USER_PROFILE:\r\n      return { loading: false, user: action.payload };\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport './bootstrap.min.css';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\nimport store from './store';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}